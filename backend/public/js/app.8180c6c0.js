(function(t){function e(e){for(var a,n,o=e[0],c=e[1],d=e[2],l=0,f=[];l<o.length;l++)n=o[l],i[n]&&f.push(i[n][0]),i[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,d||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,n=1;n<s.length;n++){var c=s[n];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},i={app:0},r=[];function n(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"f0b58730"}[t]+".js"}function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.e=function(t){var e=[],s=i[t];if(0!==s)if(s)e.push(s[2]);else{var a=new Promise(function(e,a){s=i[t]=[e,a]});e.push(s[2]=a);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=n(t),r=function(e){c.onerror=c.onload=null,clearTimeout(d);var s=i[t];if(0!==s){if(s){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,n=new Error("Loading chunk "+t+" failed.\n("+a+": "+r+")");n.type=a,n.request=r,s[1](n)}i[t]=void 0}};var d=setTimeout(function(){r({type:"timeout",target:c})},12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=d;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0597":function(t,e,s){"use strict";var a=s("a596"),i=s.n(a);i.a},"0afd":function(t,e,s){"use strict";var a=s("fb92"),i=s.n(a);i.a},1:function(t,e){},"160f":function(t,e,s){"use strict";var a=s("4401"),i=s.n(a);i.a},"17dc":function(t,e,s){},"2d9f":function(t,e,s){t.exports=s.p+"img/small-logo.3c56eec7.png"},"3c95":function(t,e,s){"use strict";var a=s("68d6"),i=s.n(a);i.a},4318:function(t,e,s){},4401:function(t,e,s){},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=r(t);return s(e)}function r(t){var e=a[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id="4678"},"4a44":function(t,e,s){"use strict";var a=s("a680"),i=s.n(a);i.a},"4afc":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("navigation-bar"),s("router-view")],1)},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"navigation-bar"},[a("div",{staticClass:"logo"},[a("router-link",{attrs:{to:"/"}},[a("img",{staticClass:"logo-nav",attrs:{src:s("2d9f"),alt:""}})])],1),a("div",{staticClass:"navigation"},[a("router-link",{staticClass:"nav-btns",attrs:{to:"/",title:"Home"}},[a("i",{staticClass:"fas fa-home nav-btn"})]),a("router-link",{staticClass:"nav-btns",attrs:{to:"/about",title:"About"}},[a("i",{staticClass:"fas fa-info nav-btn"})]),a("router-link",{staticClass:"nav-btns",attrs:{to:"/board",title:"Boards"}},[a("i",{staticClass:"fab fa-flipboard nav-btn"})]),a("div",{staticClass:"login"},[a("router-link",{attrs:{to:"/login/"}},[t.user&&t.user._id?a("span",{staticClass:"user-logedin",attrs:{title:"Logout"}},[t.user.prefs.userPic?a("span",[a("img",{attrs:{src:"user.prefs.userPic",alt:""}})]):a("span",{staticClass:"no-pic-user",style:{background:t.user.prefs.bgColor,color:t.user.prefs.color}},[t._v(t._s(t.user.firstName[0])+t._s(t.user.lastName[0]))])]):a("i",{staticClass:"fas fa-sign-in-alt nav-btn",attrs:{title:"Login"}})])],1)],1)])},o=[],c=s("bc3a"),d=s.n(c),l=d.a.create({withCredentials:!0});function u(){return l.get.apply(l,arguments)}function f(){return l.post.apply(l,arguments)}function m(){return l.put.apply(l,arguments)}function h(){return l.delete.apply(l,arguments)}function v(t){return"/api/".concat(t)}var p={get:u,post:f,put:m,delete:h,getUrl:v},b="/api",g=p.getUrl("user"),C=function(t){return t.data};function _(t){return p.get("".concat(g,"/").concat(t)).then(C)}function y(t){return p.put("".concat(b,"/login"),t).then(C)}function k(t){return p.post("".concat(b,"/signup"),t).then(C)}function w(){return{firstName:"",lastName:"",userName:"",password:"",email:"",prefs:{userPic:null,bgColor:"#0000007a",color:"#ffffff"}}}var j={login:y,signup:k,getEmptyUser:w,getUserAndBoard:_},L={name:"NavigationBar",data:function(){return{userConnect:!1}},created:function(){},computed:{user:{get:function(){if(this.$store.getters.isUserLoggedIn)return this.userConnect=!0,this.$store.getters.loggedInUser},set:function(t){console.log(this.user),console.log(t,"userId"),this.$store.commit("setUser",{card:t})}}},methods:{},components:{}},x=L,I=(s("dce6"),s("2877")),$=Object(I["a"])(x,n,o,!1,null,"1f2b6b63",null),D=$.exports,A={name:"app",props:[],components:{NavigationBar:D},created:function(){},computed:{}},N=A,B=(s("6366"),Object(I["a"])(N,i,r,!1,null,"52f7bd3e",null)),M=B.exports,T=s("8c4f"),E=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},O=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("h1",[t._v("home")])])}],P={name:"home",components:{},created:function(){}},z=P,S=Object(I["a"])(z,E,O,!1,null,"45c749e6",null),H=S.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("form",{staticClass:"form-login",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.userName,expression:"user.userName"}],staticClass:"username-login",attrs:{type:"text",placeholder:"Username",required:""},domProps:{value:t.user.userName},on:{input:function(e){e.target.composing||t.$set(t.user,"userName",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"password-login",attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),s("button",{staticClass:"btn-login",attrs:{type:"submit"}},[t._v("Log in")]),t.isWorng?s("span",[t._v("worng credinatls")]):t._e()]),s("button",{staticClass:"btn-login"},[s("router-link",{attrs:{to:"/signup/"}},[t._v("creat new acount")])],1)])},Y=[],q={name:"login",data:function(){return{user:{userName:"",password:""},isWorng:!1}},methods:{login:function(){var t=this;this.$store.dispatch({type:"login",user:this.user}).then(function(e){console.log(e),e.length?(t.isWorng=!1,t.$router.push({path:"/board"})):t.isWorng=!0})}},components:{}},W=q,R=(s("0afd"),Object(I["a"])(W,U,Y,!1,null,"65197e52",null)),G=R.exports,V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sign-up"},[s("form",{staticClass:"form-sign-up",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.firstName,expression:"user.firstName"}],staticClass:"first-name-sign-up",attrs:{placeholder:"First name",required:""},domProps:{value:t.user.firstName},on:{input:function(e){e.target.composing||t.$set(t.user,"firstName",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.lastName,expression:"user.lastName"}],staticClass:"last-name-sign-up",attrs:{placeholder:"Last name",required:""},domProps:{value:t.user.lastName},on:{input:function(e){e.target.composing||t.$set(t.user,"lastName",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.userName,expression:"user.userName"}],staticClass:"username-sign-up",attrs:{placeholder:"Username",required:""},domProps:{value:t.user.userName},on:{input:function(e){e.target.composing||t.$set(t.user,"userName",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"password-sign-up",attrs:{placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"email-sign-up",attrs:{placeholder:"Email",required:""},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),s("button",{staticClass:"btn-sign-up",attrs:{type:"submit"}},[t._v("Check in")])])])},F=[],J={name:"signup",data:function(){return{user:{firstName:"",lastName:"",userName:"",password:"",email:"",prefs:{userPic:null,bgColor:"#ffffff",color:"#000000"}},isWorng:!1}},methods:{submit:function(){var t=this;console.log(this.user),this.$store.dispatch({type:"signup",user:this.user}).then(function(e){e?(t.isWorng=!1,t.$router.push({path:"/board"})):t.isWorng=!0})}},components:{}},Q=J,K=(s("ebe2"),Object(I["a"])(Q,V,F,!1,null,"73fe3fe4",null)),X=K.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.boards?s("section",{staticClass:"task-app task-wrapper collection"},[s("h1",{staticClass:"title-board-prev"},[t._v("My Boards:")]),s("div",{staticClass:"board-flex"},[t._l(t.boards,function(t){return s("div",{key:t._id,staticClass:"collection-item",style:{background:t.prefs.bgColor.color}},[s("board-preview",{staticClass:"board-preview",attrs:{board:t}})],1)}),s("div",{staticClass:"collection-newItem",class:{"collection-newItem-active":t.isNewBoard},on:{click:function(e){t.isNewBoard=!0}}},[s("h1",{directives:[{name:"show",rawName:"v-show",value:!t.isNewBoard,expression:"!isNewBoard"}],staticClass:"collection-title"},[t._v("Create a board...")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newBoardTitle,expression:"newBoardTitle"},{name:"show",rawName:"v-show",value:t.isNewBoard,expression:"isNewBoard"}],staticClass:"collection-addBoard",attrs:{placeholder:"Create a board..."},domProps:{value:t.newBoardTitle},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.createNewBoard())},input:function(e){e.target.composing||(t.newBoardTitle=e.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isNewBoard,expression:"isNewBoard"}],staticClass:"collection-options"},[s("button",{staticClass:"Button",on:{click:function(e){return e.stopPropagation(),t.createNewBoard()}}},[t._v("Save")]),s("svg",{staticClass:"Cancel",on:{click:function(e){e.stopPropagation(),t.isNewBoard=!t.isNewBoard}}},[s("line",{attrs:{x1:"0",y1:"0",x2:"15",y2:"15"}}),s("line",{attrs:{x1:"0",y1:"15",x2:"15",y2:"0"}})])])])],2)]):t._e()},tt=[],et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.board?s("section",{staticClass:"board-preview"},[s("router-link",{staticClass:"collection-item",attrs:{to:"/board/"+t.board._id}},[s("h1",{staticClass:"collection-title"},[t._v(t._s(t.board.title))])])],1):t._e()},st=[],at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"board"},[s("header",{staticClass:"nav-board"},[t.isChangeTitle?t._e():s("div",{staticClass:"board-title",on:{click:t.choseTitle}},[t._v(t._s(t.board.title))]),t.isChangeTitle?s("form",{staticClass:"form-add",on:{submit:t.changeTitle}},[s("div",{staticClass:"title-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.board.title,expression:"board.title"}],ref:"title",staticClass:"input-title-board",attrs:{placeholder:"Enter title here...",autofocus:""},domProps:{value:t.board.title},on:{input:function(e){e.target.composing||t.$set(t.board,"title",e.target.value)}}}),t._m(0)])]):t._e(),s("b-button",{directives:[{name:"show",rawName:"v-show",value:!t.showMenu,expression:"!showMenu"}],attrs:{variant:"link"},on:{click:t.toggleMenu}},[t._v("Show Menu")])],1),s("main",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showMenu,expression:"showMenu"}],staticClass:"menu-modal"},[s("button",{staticClass:"menu-close-btn",on:{click:t.toggleMenu}},[s("i",{staticClass:"fas fa-times",staticStyle:{color:"#000000"}})]),s("div",[s("router-link",{attrs:{to:"/board/"+t.board._id+"/archive"}},[s("b-button",{attrs:{variant:"link"}},[t._v("Archived items")])],1)],1),s("div",[s("b-button",{attrs:{variant:"link"},on:{click:t.toggleActivity}},[t.showAtivities?s("span",[t._v("Hide Activities")]):s("span",[t._v("Show Activities")])]),t.showAtivities?s("activities",{staticClass:"activities",attrs:{board:t.board}}):t._e()],1)]),s("ul",{staticClass:"board-list-ul"},[s("draggable",t._b({staticClass:"draggable",attrs:{delay:3},on:{end:t.endMoveList},model:{value:t.lists,callback:function(e){t.lists=e},expression:"lists"}},"draggable",t.dragOptions,!1),t._l(t.lists,function(t){return s("li",{key:t._id,staticClass:"board-list-li"},[s("list",{attrs:{list:t}})],1)}),0),s("div",{staticClass:"create-list"},[t.isAddListClick?t._e():s("button",{staticClass:"create-list-title",on:{click:t.newList}},[t._v("\n          Add new list\n          "),s("i",{staticClass:"fa fa-plus"})]),t.isAddListClick?s("form",{staticClass:"create-list-input form-add-list",on:{submit:function(e){return e.preventDefault(),t.addList(e)}}},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.list.title,expression:"list.title"}],staticClass:"input-new-list",attrs:{placeholder:"Enter title here..."},domProps:{value:t.list.title},on:{input:function(e){e.target.composing||t.$set(t.list,"title",e.target.value)}}})]),s("div",{staticClass:"container-add-list-btns"},[t._m(1),s("button",{staticClass:"list-x-list-options",on:{click:t.closeAdd}},[s("i",{staticClass:"fas fa-times"})])])]):t._e()])],1),t.showModal?s("card-edit",{ref:"card"},[s("router-view",{attrs:{name:"Card Edit"}})],1):t._e()],1)])},it=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn-title-board",attrs:{type:"submit"}},[s("i",{staticClass:"fa fa-plus"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"create-list-options list-new-list-options",attrs:{type:"submit"}},[s("i",{staticClass:"fa fa-plus"})])}],rt=s("0a0d"),nt=s.n(rt),ot=(s("28a5"),s("795b")),ct=s.n(ot),dt=(s("ac6a"),s("5df3"),p.getUrl("card")),lt=function(t){return t.data},ut={query:ft,getCardById:mt,removeCard:ht,saveCard:pt,getEmptyCard:bt,updateCards:vt,getEmptyChecklist:gt,getEmptyToDo:Ct};function ft(){return p.get(dt).then(lt)}function mt(t){return p.get("".concat(dt,"/").concat(t)).then(lt)}function ht(t){return p.delete("".concat(dt,"/").concat(t))}function vt(t){var e=this;return ct.a.all([t.map(function(t){return e.saveCard(t)})]).then(function(){return t})}function pt(t){return t._id?p.put("".concat(dt,"/").concat(t._id),t).then(lt):p.post(dt,t).then(lt)}function bt(){return{listId:null,title:"",description:null,members:[],labels:[],checklists:[],dueDate:null,attachments:[],order:null,archived:!1,et:null,at:null}}function gt(){return{id:_t(12),title:"",toDos:[]}}function Ct(){return{id:_t(12),name:"",done:!1,editStatus:!0}}function _t(t){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghiklmnopqrstuvwxyz".split("");"number"!==typeof t&&(t=Math.floor(Math.random()*e.length_));for(var s="",a=0;a<t;a++)s+=e[Math.floor(Math.random()*e.length)];return s}var yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.card?s("b-modal",{ref:"myModalRef",attrs:{id:"modal1",title:"Edit Card","no-close-on-esc":"","no-close-on-backdrop":"","hide-header-close":""},on:{hide:t.modalClosed},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[s("section",{staticClass:"nav-modal"},[s("div",{directives:[{name:"b-modal",rawName:"v-b-modal.modal4",modifiers:{modal4:!0}}],staticClass:"containerLabel"},[t.checkLabel("red")?s("div",{staticClass:"LabelMenu Red"}):t._e(),t.checkLabel("blue")?s("div",{staticClass:"LabelMenu Blue"}):t._e(),t.checkLabel("green")?s("div",{staticClass:"LabelMenu Green"}):t._e(),t.checkLabel("yellow")?s("div",{staticClass:"LabelMenu Yellow"}):t._e(),t.checkLabel("purple")?s("div",{staticClass:"LabelMenu Purple"}):t._e(),t.checkLabel("orange")?s("div",{staticClass:"LabelMenu Orange"}):t._e()]),t.card.users?s("div",{directives:[{name:"b-modal",rawName:"v-b-modal.modal6",modifiers:{modal6:!0}}],staticClass:"container-member-nav"},[t._l(t.card.users.slice(0,2),function(e){return s("div",{key:e._id},[t.checkMember(e._id)?s("div",{staticClass:"container-name-member"},[s("div",{staticClass:"logo-user-name"},[t._v(t._s(e.firstName[0])+t._s(e.lastName[0]))])]):t._e()])}),t.checkSumMember()?s("div",{staticClass:"logo-user-name"},[s("i",{staticClass:"fas fa-plus"})]):t._e()],2):t._e()]),s("b-form-input",{staticClass:"m-1",attrs:{slot:"modal-header",placeholder:"Title"},slot:"modal-header",model:{value:t.card.title,callback:function(e){t.$set(t.card,"title",e)},expression:"card.title"}}),s("div",{staticClass:"container flex"},[s("main",{staticClass:"content flex"},[s("div",{staticClass:"cost flex"},[s("label",{staticClass:"mt-3",attrs:{for:"time"}},[t._v("Cost:")]),s("b-form-select",{staticClass:"m-1",attrs:{size:"sm",value:t.card.et,id:"time",options:{"0.5 Hour":"0.5 Hour","1 Hour":"1 Hour","1.5 Hours":"1.5 Hours","2.5 Hours":"2.5 Hours","5 Hours":"5 Hours","7.5 Hours":"7.5 Hours","12.5 Hours":"12.5 Hours","0.5 Day":"0.5 Day","1 Day":"1 Day","1.5 Days":"1.5 Days","2.5 Days":"2.5 Days","5 Days":"5 Days","7.5 Days":"7.5 Days","12.5 Days":"12.5 Days"}},model:{value:t.card.et,callback:function(e){t.$set(t.card,"et",e)},expression:"card.et"}},[s("option",{attrs:{slot:"first"},domProps:{value:null},slot:"first"},[t._v("ET")])]),s("b-form-select",{staticClass:"m-1",attrs:{size:"sm",value:t.card.at,id:"time",options:{"0.5 Hour":"0.5 Hour","1 Hour":"1 Hour","1.5 Hours":"1.5 Hours","2.5 Hours":"2.5 Hours","5 Hours":"5 Hours","7.5 Hours":"7.5 Hours","12.5 Hours":"12.5 Hours","0.5 Day":"0.5 Day","1 Day":"1 Day","1.5 Days":"1.5 Days","2.5 Days":"2.5 Days","5 Days":"5 Days","7.5 Days":"7.5 Days","12.5 Days":"12.5 Days"}},model:{value:t.card.at,callback:function(e){t.$set(t.card,"at",e)},expression:"card.at"}},[s("option",{attrs:{slot:"first"},domProps:{value:null},slot:"first"},[t._v("AT")])])],1),s("div",{staticClass:"time flex"},[s("label",{staticClass:"mt-3",attrs:{for:"date"}},[t._v("Date:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.card.dueDate,expression:"card.dueDate"}],staticClass:"custom-select custom-select-sm m-1",attrs:{type:"date",name:"bday",size:"sm"},domProps:{value:t.card.dueDate},on:{input:function(e){e.target.composing||t.$set(t.card,"dueDate",e.target.value)}}})]),s("b-form-textarea",{staticClass:"m-1",attrs:{id:"textarea",placeholder:"Description",rows:"6","max-rows":"10"},model:{value:t.card.description,callback:function(e){t.$set(t.card,"description",e)},expression:"card.description"}}),t._l(t.card.checklists,function(e){return s("div",{key:e.id,staticClass:"edit-checklist"},[s("div",{staticClass:"title-Todos"},[t._v("TITLE: "+t._s(e.title))]),t._l(e.toDos,function(a){return s("div",{key:a.id,staticClass:"edit-Todos"},[s("div",{staticClass:"edit-Todo"},[a.done?t._e():s("i",{staticClass:"far fa-square",on:{click:function(s){return t.checkDone(e.id,a.id)}}}),a.done?s("i",{staticClass:"fa fa-check-square",on:{click:function(s){return t.checkDone(e.id,a.id)}}}):t._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:!a.editStatus,expression:"!toDo.editStatus"}],on:{click:function(s){return s.preventDefault(),t.openEditor(e.id,a.id)}}},[t._v(t._s(a.name))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:a.editStatus,expression:"toDo.editStatus"}],staticClass:"flex editTodo"},[s("b-input",{attrs:{name:"add-todo",placeholder:"Add todo",size:"sm",autofocus:""},model:{value:t.titleToDo,callback:function(e){t.titleToDo=e},expression:"titleToDo"}}),s("button",{staticClass:"new-todo-options",on:{click:function(s){return s.preventDefault(),t.addToDo(e.id,a.id)}}},[t._v("Add")]),s("button",{staticClass:"x-todo-options",on:{click:function(s){return s.preventDefault(),t.closeEditor(e.id,a.id)}}},[s("i",{staticClass:"fas fa-times"})])],1)])}),t.editorOpen?t._e():s("button",{staticClass:"new-todo-options new-todo",attrs:{size:"sm"},on:{click:function(s){return t.addToDo(e.id)}}},[t._v("Add item")])],2)}),s("b-form-input",{staticClass:"m-1",attrs:{placeholder:"Add comment"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),s("b-button",{staticClass:"m-1",attrs:{size:"sm"},on:{click:t.addComment}},[t._v("Save")]),t._l(t.card.comments,function(t){return s("b-form-input",{key:t,staticClass:"m-1",attrs:{size:"sm",value:t,readonly:""}})})],2),s("div",{staticClass:"nav flex"},[s("label",{staticClass:"m-1"},[t._v("Add to Card")]),s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal6",modifiers:{modal6:!0}}],staticClass:"m-1 btn-block",attrs:{size:"sm"}},[t._v("Members")]),s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal4",modifiers:{modal4:!0}}],staticClass:"m-1 btn-block",attrs:{size:"sm"}},[t._v("Labels")]),s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal5",modifiers:{modal5:!0}}],staticClass:"m-1 btn-block",attrs:{size:"sm"}},[t._v("Checklist")]),s("label",{staticClass:"m-1"},[t._v("Actions")]),s("b-dropdown",{staticClass:"m-1 btn-block",attrs:{size:"sm",text:"Move to"}},t._l(t.lists,function(e){return s("b-dropdown-item",{key:e._id,attrs:{value:e._id},on:{click:function(s){t.card.listId=e._id}}},[t._v(t._s(e.title))])}),1),s("b-button",{staticClass:"m-1 btn-block",attrs:{size:"sm"}},[t._v("Copy")]),s("b-button",{staticClass:"m-1 btn-block",attrs:{size:"sm"},on:{click:function(e){return t.saveCard(!t.card.archived)}}},[t._v(t._s(t.isArchived))]),s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal7",modifiers:{modal7:!0}}],staticClass:"m-1 btn-block",attrs:{size:"sm"}},[t._v("Share")])],1)]),s("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[s("b-button",{staticClass:"m-1 float-right",attrs:{variant:"primary"},on:{click:function(e){return t.saveCard(!1)}}},[t._v("Save")]),s("b-button",{staticClass:"m-1 float-right",on:{click:t.modalClosed}},[t._v("Close")])],1),s("b-modal",{attrs:{id:"modal4",title:"Labels"}},[s("div",{staticClass:"Label Red",on:{click:function(e){return t.changeLabel("red")}}},[t._v("\n      Bug\n      "),t.checkLabel("red")?s("i",{staticClass:"fa fa-check Vwhite"}):t._e()]),s("div",{staticClass:"Label Blue",on:{click:function(e){return t.changeLabel("blue")}}},[t._v("\n      Duplicate\n      "),t.checkLabel("blue")?s("i",{staticClass:"fa fa-check Vwhite"}):t._e()]),s("div",{staticClass:"Label Green",on:{click:function(e){return t.changeLabel("green")}}},[t._v("\n      Enhancement\n      "),t.checkLabel("green")?s("i",{staticClass:"fa fa-check Vwhite"}):t._e()]),s("div",{staticClass:"Label Yellow",on:{click:function(e){return t.changeLabel("yellow")}}},[t._v("\n      Invalid\n      "),t.checkLabel("yellow")?s("i",{staticClass:"fa fa-check Vwhite"}):t._e()]),s("div",{staticClass:"Label Purple",on:{click:function(e){return t.changeLabel("purple")}}},[t._v("\n      Question\n      "),t.checkLabel("purple")?s("i",{staticClass:"fa fa-check Vwhite"}):t._e()]),s("div",{staticClass:"Label Orange",on:{click:function(e){return t.changeLabel("orange")}}},[t._v("\n      Wontfix\n      "),t.checkLabel("orange")?s("i",{staticClass:"fa fa-check Vwhite"}):t._e()])]),t.board.users?s("b-modal",{attrs:{id:"modal6",title:"Members"}},t._l(t.board.users,function(e){return s("div",{key:e._id},[s("div",{staticClass:"container-member",on:{click:function(s){return t.memberToCard(e._id,e)}}},[s("div",{staticClass:"container-name-member"},[s("div",{staticClass:"logo-user-name"},[t._v(t._s(e.firstName[0])+t._s(e.lastName[0]))]),s("div",{staticClass:"name-member"},[t._v(t._s(e.firstName)+" "+t._s(e.lastName)+" ("+t._s(e.userName)+")")])]),s("div",[t.checkMember(e._id)?s("i",{staticClass:"fa fa-check"}):t._e()])])])}),0):t._e(),s("b-modal",{attrs:{id:"modal5",title:"Checklist","hide-footer":""}},[s("form",{staticClass:"add-checklist",on:{submit:function(e){return e.preventDefault(),t.addCheklist()}}},[t._v("\n      Add Title\n      "),s("b-form-input",{attrs:{type:"text",autofocus:""},model:{value:t.titleCheckList,callback:function(e){t.titleCheckList=e},expression:"titleCheckList"}}),s("b-button",{staticClass:"mt-3 float-right",attrs:{type:"submit"}},[t._v("create")])],1)]),s("b-modal",{attrs:{id:"modal7",title:"Link to this card","no-close-on-backdrop":"","ok-only":""}},[s("b-form-input",{staticClass:"m-1",attrs:{readonly:""},model:{value:t.share,callback:function(e){t.share=e},expression:"share"}})],1)],1):t._e()},kt=[],wt=(s("7f7f"),s("20d6"),s("c1df")),jt=s.n(wt),Lt=s("9f7b"),xt=s.n(Lt),It=(s("f9e3"),s("2dd8"),d.a.create({withCredentials:!0})),$t="/api/activity",Dt=function(t){return t.data},At={query:Nt,saveActivity:Bt,getEmptyActivity:Mt};function Nt(t){var e=t.userId,s=void 0===e?null:e,a=t.boardId,i=void 0===a?null:a;return It.get($t,{userId:s,boardId:i}).then(Dt)}function Bt(t){return It.post($t,t).then(Dt)}function Mt(){return{text:"",userId:"",boardId:1,listId:1,cardId:1,createdAt:null}}var Tt=s("8055"),Et=s.n(Tt),Ot=s("2f62"),Pt={state:{user:{},boards:[]},getters:{isUserLoggedIn:function(t){return!!t.user._id},loggedInUser:function(t){return t.user},getboards:function(t){return t.boards}},mutations:{setUser:function(t,e){var s=e.user;t.user=s},setBoards:function(t,e){var s=e.boards;t.boards=s},logout:function(t,e){var s=e.userId;s===t.user._id&&(t.user={})}},actions:{updateUser:function(t,e){var s=e.userId;return j.getUserAndBoard(s).then(function(e){var s=e.user,a=e.boards;t.commit({type:"setUser",user:s[0]}),t.commit({type:"setBoards",boards:a})})},login:function(t,e){var s=e.user;return j.login(s).then(function(e){return e&&t.commit({type:"setUser",user:e[0]}),e})},logout:function(t,e){var s=e.userId;t.commit({type:"logout",userId:s})},signup:function(t,e){var s=e.user;return j.signup(s).then(function(e){return console.log(e[0]),e&&t.commit({type:"setUser",user:e[0]}),e})}}},zt=(s("7514"),p.getUrl("board")),St=function(t){return t.data},Ht={query:Yt,saveBoard:qt,getBoardById:Ut,removeBoard:Wt,getEmptyBoard:Rt};function Ut(t){return p.get("".concat(zt,"/").concat(t)).then(St)}function Yt(t){var e=t.userId;return p.get(zt,e).then(St)}function qt(t){return t._id?p.put("".concat(zt,"/").concat(t._id),t).then(St):p.post(zt,t).then(St)}function Wt(t){return p.delete("".concat(zt,"/").concat(t))}function Rt(){return{title:"",prefs:{bgPic:{src:"",boardNavOp:.7},bgColor:{color:"#4286f4",boardNavOp:.5}},members:[]}}var Gt=p.getUrl("list"),Vt=function(t){return t.data},Ft={query:Qt,saveList:Xt,getListById:Jt,getEmptyList:te,removeList:Zt,updateLists:Kt};function Jt(t){return p.get("".concat(Gt,"/").concat(t)).then(Vt)}function Qt(t){var e=t.boardId,s=t.archived,a=void 0!==s&&s;return p.get(Gt,{boardId:e,archived:a}).then(Vt)}function Kt(t){var e=this;return ct.a.all([t.map(function(t){return e.saveList(t)})]).then(function(){return t})}function Xt(t){return t._id?p.put("".concat(Gt,"/").concat(t._id),t).then(Vt):p.post(Gt,t).then(Vt)}function Zt(t){return p.delete("".concat(Gt,"/").concat(t))}function te(){return{title:"",boardId:null,order:null,archived:!1}}var ee={state:{board:{},lists:[],activities:[],currCard:null},getters:{getBoard:function(t){return t.board},getLists:function(t){return t.lists},getBoardActivities:function(t){return t.activities},getCurrCard:function(t){return t.currCard}},mutations:{setBoard:function(t,e){var s=e.board;t.board=s},setCard:function(t,e){var s=e.card;t.currCard=s},setLists:function(t,e){var s=e.lists;t.lists=s},updateList:function(t,e){var s=e.savedList,a=t.lists.findIndex(function(t){return t._id===s._id});t.lists.splice(a,1,s)},addList:function(t,e){var s=e.savedList;t.lists.push(s)},deleteList:function(t,e){var s=e.list,a=t.lists.findIndex(function(t){return t._id===s._id});t.lists.splice(a,1)},updateCard:function(t,e){var s=e.savedCard,a=t.lists.find(function(t){return t._id===s.listId}),i=a.cards.findIndex(function(t){return t._id===s._id});a.cards.splice(i,1,s);var r=t.lists.findIndex(function(t){return t._id===a._id});t.lists.splice(r,1,a)},addCard:function(t,e){var s=e.savedCard,a=t.lists.find(function(t){return t._id===s.listId});a.cards.push(s);var i=t.lists.findIndex(function(t){return t._id===a._id});t.lists.splice(i,1,a)},addActivity:function(t,e){var s=e.savedActivity;t.activities.unshift(s)},setBoardActivities:function(t,e){var s=e.activities;t.activities=s}},actions:{loadBoard:function(t,e){var s=e.boardId;return Ht.getBoardById(s).then(function(e){var s=e.board,a=e.lists,i=e.activities;return console.log(i),t.commit({type:"setBoard",board:s[0]}),t.commit({type:"setLists",lists:a}),t.commit({type:"setBoardActivities",activities:i}),s[0]})},saveBoard:function(t,e){var s=e.board;return console.log(s,"board store"),Ht.saveBoard(s).then(function(e){return t.commit({type:"setBoard",savedBoard:e[0]}),e[0]})},updateLists:function(t,e){var s=e.lists;return Ft.updateLists(s).then(function(e){t.commit({type:"setLists",lists:e})})},saveList:function(t,e){var s=e.list,a=!!s._id;return ut.updateCards(s.cards).then(function(e){return Ft.saveList(s).then(function(e){return a?t.commit({type:"updateList",savedList:e[0]}):t.commit({type:"addList",savedList:e[0]}),e[0]})})},saveNewList:function(t,e){var s=e.list;return Ft.saveList(s).then(function(e){return t.commit({type:"addList",savedList:e[0]}),e[0]})},saveCardToList:function(t,e){var s=e.card,a=!!s._id;return ut.saveCard(s).then(function(e){return a?t.commit({type:"updateCard",savedCard:e[0]}):t.commit({type:"addCard",savedCard:e[0]}),e[0]})},loadCard:function(t,e){var s=e.cardId;return ut.getCardById(s).then(function(e){return t.commit({type:"setCard",card:e[0]}),e[0]})},saveActivity:function(t,e){var s=e.activity;return At.saveActivity(s).then(function(e){t.commit({type:"addActivity",savedActivity:e[0]})})}}};a["a"].use(Ot["a"]);var se=new Ot["a"].Store({modules:{userStore:Pt,boardStore:ee},state:{},mutations:{},actions:{}}),ae="",ie=Et()(ae);function re(t){ie.emit("boardRequested",{boardId:t}),ie.on("board-change",function(t){console.log("WE GOT A BOARD CHANGE"),se.dispatch({type:"loadBoard",boardId:t})})}function ne(t){ie.emit("post-change",t)}function oe(t,e){ie.emit(t,e)}function ce(t,e){ie.on(t,e)}var de={init:re,send:ne,on:ce,emit:oe};s("cffa");a["a"].use(xt.a);var le={name:"card",data:function(){return{comment:"",titleCheckList:"",titleToDo:"",openModalMembers:!1,SumMember:!1,editStatus:!1,modalOpen:!1,editorOpen:!1}},created:function(){var t=this,e=this.$route.params.cardId;this.$store.dispatch({type:"loadCard",cardId:e}).then(function(e){t.card=e,t.modalOpen=!0,console.log(t.card,"created")})},mounted:function(){this.$refs.myModalRef.show()},computed:{card:{get:function(){return this.$store.getters.getCurrCard},set:function(t){this.$store.commit("setCard",{card:t})}},board:{get:function(){return this.$store.getters.getBoard},set:function(t){this.$store.commit("setBoard",{board:t})}},lists:function(){var t=this;return this.$store.getters.getLists.filter(function(e){return e._id!==t.card.listId})},showModal:{get:function(){return this.$route.meta.showModal},set:function(t){this.$route.meta.showModal=t}},share:function(){return window.location.href},isArchived:function(){return this.card.archived?"Restore":"Archive"}},methods:{memberToCard:function(t,e){var s=this.card.members.findIndex(function(e){return e===t}),a=this.card.users.findIndex(function(t){return t===e});-1===s?(this.card.members.push(t),this.card.users.push(e)):(this.card.members.splice(s,1),this.card.users.splice(a,1))},checkMember:function(t){return-1!==this.card.members.findIndex(function(e){return e===t})},checkSumMember:function(){if(this.card.users.length>2)return!0},closeEditor:function(t,e){this.editorOpen=!1,this.card.checklists.forEach(function(s){s.id===t&&s.toDos.forEach(function(t){e===t.id&&(t.editStatus=!1,""===t.name&&(console.log(s.length),s.toDos.splice(s.toDos.length-1,1)))})})},openEditor:function(t,e){var s=this;this.editorOpen=!0,this.card.checklists.forEach(function(a){a.id===t&&a.toDos.forEach(function(t){t.editStatus=!1,e===t.id&&(s.titleToDo=t.name,t.editStatus=!0)})})},checkDone:function(t,e){this.card.checklists.forEach(function(s){s.id===t&&(console.log(s,"checkDone"),s.toDos.forEach(function(t){e===t.id&&(t.done=!t.done)}))})},addCheklist:function(){this.editorOpen=!0;var t=ut.getEmptyChecklist();t.title=this.titleCheckList;var e=ut.getEmptyToDo();t.toDos.push(e),this.card.checklists.push(t)},addToDo:function(t,e){var s=this,a=!1;this.card.checklists.forEach(function(i){if(!e&&t===i.id){console.log(i.id,t),s.editorOpen=!0;var r=ut.getEmptyToDo();i.toDos.push(r),s.titleToDo=""}if(i.id===t&&(i.toDos.forEach(function(t){e===t.id&&(""===t.name&&(a=!0),t.name=s.titleToDo,t.editStatus=!1)}),a)){r=ut.getEmptyToDo();i.toDos.push(r),s.titleToDo=""}}),this.editStatus=!this.editStatus},addMember:function(t){this.card.members.push(t)},checkLabel:function(t){return-1!==this.card.labels.findIndex(function(e){return e===t})},markChose:function(){var t=this;this.card.labels.forEach(function(e){t.labelIsChosen.forEach(function(s){e===s&&(t.labelIsChosen=!0)})})},changeLabel:function(t){var e=this.card.labels.findIndex(function(e){return e===t});-1===e?this.card.labels.push(t):this.card.labels.splice(e,1)},saveCard:function(t){var e=this;this.card.archived=t,console.log("Saving card..",this.card),this.modalOpen=!1,this.$store.dispatch({type:"saveCardToList",card:this.card}).then(function(t){var s=At.getEmptyActivity();s.text=" changed the card in list ",s.userId=e.$store.getters.loggedInUser._id,s.boardId=e.board._id,s.listId=t.listId,s.cardId=t._id,s.createdAt=jt()(nt()()).format("MMMM Do YYYY, h:mm:ss a"),e.$store.dispatch({type:"saveActivity",activity:s}),de.send(e.board._id),e.$router.go(-1)}).catch(function(t){console.log(t),e.$router.go(-1)})},addComment:function(){if(this.comment){var t=jt()(nt()()).format("DD/MM/YY hh:mm"),e=t+" "+this.comment;this.card.comments?this.card.comments.unshift(e):this.card.comments=[e],this.comment=""}},modalClosed:function(){this.modalOpen=!1,this.$router.go(-1)},moveCard:function(){this.$store.getters.getLists.map(function(t){return console.log(t.title)})}},components:{}},ue=le,fe=(s("c9e1"),Object(I["a"])(ue,yt,kt,!1,null,"479ecbf8",null)),me=fe.exports,he=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"list slide"},[s("header",{staticClass:"header title drag-me"},[t.isChangeTitle?t._e():s("div",{staticClass:"title-list",on:{click:function(e){return e.preventDefault(),t.choseTitle(e)}}},[t._v(t._s(t.list.title))]),t.isChangeTitle?s("form",{staticClass:"form-add",on:{submit:function(e){return e.preventDefault(),t.changeTitle(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.list.title,expression:"list.title"}],ref:"title",staticClass:"input-title-list",attrs:{placeholder:"Enter title here...",autofocus:""},domProps:{value:t.list.title},on:{input:function(e){e.target.composing||t.$set(t.list,"title",e.target.value)}}}),t._m(0)]):t._e()]),s("main",{staticClass:"main items drag-me"},[s("draggable",t._b({staticClass:"listgroup",class:t.list._id,on:{end:t.funToMove},model:{value:t.listArray,callback:function(e){t.listArray=e},expression:"listArray"}},"draggable",t.dragOptionsCard,!1),t._l(t.list.cards,function(e){return s("div",{key:e._id,staticClass:"card",class:[e._id,e.archived?"hide-card":""],attrs:{delay:3}},[e.archived?t._e():s("card-preview",{staticClass:"drag-me",attrs:{card:e}})],1)}),0)],1),s("footer",{staticClass:"footer"},[t.isAddClick?t._e():s("button",{staticClass:"list-add-card",on:{click:function(e){return t.newCard()}}},[t._v("\n      Add card\n      "),s("i",{staticClass:"fa fa-plus"})]),t.isAddClick?s("form",{staticClass:"list-add-card form-add-card",on:{submit:function(e){return e.preventDefault(),t.addCard(e)}}},[s("div",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.card.title,expression:"card.title"}],staticClass:"text-area",attrs:{placeholder:"Enter title here..."},domProps:{value:t.card.title},on:{input:function(e){e.target.composing||t.$set(t.card,"title",e.target.value)}}})]),s("div",{staticClass:"container-add-card-btns"},[s("button",{staticClass:"list-new-card-options",attrs:{type:"submit"}},[t._v("Add card")]),s("button",{staticClass:"list-x-card-options",on:{click:t.closeAdd}},[s("i",{staticClass:"fas fa-times"})])])]):t._e()])])},ve=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn-title-list",attrs:{type:"submit"}},[s("i",{staticClass:"fa fa-plus"})])}],pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-preview"},[s("router-link",{attrs:{to:{name:"Card Edit",params:{cardId:t.card._id}}}},[s("section",{staticClass:"title-card"},[s("div",{staticClass:"card-preview-head"},[s("ul",{staticClass:"labels"},t._l(t.card.labels,function(t){return s("li",{key:t,staticClass:"label-li"},[s("div",{staticClass:"label",style:{background:t}})])}),0)]),s("div",{staticClass:"card-middle"},[s("div",{staticClass:"title-card-text"},[t._v(t._s(t.card.title))]),t.card.dueDate?s("div",{staticClass:"due-date",style:{background:t.checkDoDate()}},[t._v(t._s(t.changeDate))]):t._e()]),s("div",{staticClass:"card-preview-footer"},[s("div",{staticClass:"card-preview-footer-left"},[t.card.description?s("div",{staticClass:"card-preview-footer-marks description",attrs:{title:"description"}},[s("i",{staticClass:"fas fa-bars"})]):t._e(),0!==t.card.checklists.length?s("div",{staticClass:"card-preview-footer-marks checklists",attrs:{title:"checklists"}},[s("i",{staticClass:"fas fa-list"})]):t._e()]),s("div",{staticClass:"card-preview-footer-center"},[t.card.et&&!t.card.at?s("div",{staticClass:"et far fa-clock fa-xs"},[t._v("ET: "+t._s(t.card.et))]):t._e(),t.card.at?s("div",{staticClass:"at far fa-clock fa-xs"},[t._v("AT: "+t._s(t.card.at))]):t._e()]),s("div",{staticClass:"card-preview-footer-right"},[s("section",{staticClass:"container-member"},[t._l(this.card.users.slice(0,2),function(e){return s("div",{key:e._id},[s("div",{staticClass:"container-name-member"},[s("div",{staticClass:"logo-user-name"},[t._v(t._s(e.firstName[0])+t._s(e.lastName[0]))])])])}),t.checkSumMember()?s("div",{staticClass:"logo-user-name"},[s("i",{staticClass:"fas fa-plus"})]):t._e()],2)])])])])],1)},be=[],ge={name:"CardPreview",props:["card"],created:function(){},data:function(){return{}},computed:{board:{get:function(){return this.$store.getters.getBoard},set:function(t){this.$store.commit("setBoard",{board:t})}},users:function(){for(var t=[],e=0;e<this.board.users.length;e++){var s=this.board.users[e];s&&t.push(s)}return t},changeDate:function(){return jt()(this.card.dueDate,"YYYY/MM/DD").format("DD/MM")}},methods:{checkMember:function(t){return-1===this.card.members.findIndex(function(e){return e===t})},checkSumMember:function(){if(this.card.users.length>2)return!0},checkDoDate:function(){var t=jt()(this.card.dueDate,"YYYY/MM/DD"),e=jt()();return t.diff(e,"days")<=-1?"#544e44":t.diff(e,"days")<=1?"#e52e2d":t.diff(e,"days")<=3?"#eea41c":"#3b8006"}},components:{}},Ce=ge,_e=(s("ac71"),Object(I["a"])(Ce,pe,be,!1,null,"c71103b2",null)),ye=_e.exports,ke=s("1980"),we=s.n(ke),je={name:"list",props:["list"],data:function(){return{listArray:this.cardList,isAddClick:!1,isChangeTitle:!1,hasfocus:!1}},components:{CardPreview:ye,draggable:we.a},methods:{funToMove:function(t){var e=this,s=t.from.className.split(" ")[1],a=t.to.className.split(" ")[1],i=t.item.className.split(" ")[1],r=(t.newIndex,t.oldIndex,this.$store.getters.getLists.find(function(t){return t._id===s}));if(s!==a){var n=this.$store.getters.getLists.find(function(t){return t._id===a}),o=n.cards.find(function(t){return t._id===i});if(!o){o=r.cards.find(function(t){return t._id===i});r.cards.splice(t.oldIndex,1),n.cards.splice(t.newIndex,0,o)}o.listId=a,o.order=t.newIndex;for(var c=0;c<n.cards.length;c++)n.cards[c].order=c;for(var d=0;d<r.cards.length;d++)r.cards[d].order=d;this.$store.dispatch({type:"saveList",list:r}),this.$store.dispatch({type:"saveList",list:n}).then(function(){de.send(e.list.boardId)})}else{for(var l=0;l<r.cards.length;l++)r.cards[l].order=l;this.$store.dispatch({type:"saveList",list:r}).then(function(){de.send(e.list.boardId)})}},newCard:function(){this.card=ut.getEmptyCard(),this.card.order=this.list.cards.length,this.isAddClick=!this.isAddClick},closeAdd:function(){this.isAddClick=!this.isAddClick},addCard:function(){var t=this;this.card.listId=this.list._id,this.card.order=this.list.cards.length,this.$store.dispatch({type:"saveCardToList",card:this.card}).then(function(e){var s=t.list.boardId,a=At.getEmptyActivity();a.text=" added a new card to list ",a.userId=t.$store.getters.loggedInUser._id,a.boardId=s,a.listId=t.list._id,a.cardId=e._id,a.createdAt=jt()(nt()()).format("MMMM Do YYYY, h:mm:ss a"),t.$store.dispatch({type:"saveActivity",activity:a});var i=ut.getEmptyCard();t.$store.commit("setCard",{card:i}),t.$store.dispatch({type:"loadBoard",boardId:s}),de.send(s)}),this.isAddClick=!this.isAddClick},choseTitle:function(){console.log("isChangeTitle",this.isChangeTitle),this.isChangeTitle=!this.isChangeTitle},changeTitle:function(){console.log("this.list",this.list),this.$store.dispatch({type:"saveList",list:this.list}),this.isChangeTitle=!this.isChangeTitle,de.send(this.list.boardId)}},computed:{cardList:function(){return this.list.cards||0!==this.list.cards.length||(this.list.cards=[]),this.list.cards},hideCard:function(t){return t.archived?"hide-card":""},card:{get:function(){return this.$store.getters.getCurrCard},set:function(t){this.$store.commit("setCard",{card:t})}},dragOptionsCard:function(){return{animation:200,group:"cards",disabled:!1,draggable:".card",ghostClass:"ghost"}}},created:function(){var t=ut.getEmptyCard();this.$store.commit("setCard",{card:t})},watch:{}},Le=je,xe=(s("4a44"),Object(I["a"])(Le,he,ve,!1,null,"5c42341a",null)),Ie=xe.exports,$e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.board?s("div",{staticClass:"activity"},t._l(t.activities,function(t){return s("div",{key:t._id},[s("activity",{attrs:{activity:t}})],1)}),0):t._e()},De=[],Ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.activity?s("div",[s("div",{staticClass:"activity flex"},[s("h2",[t._v("Board: "+t._s(t.board))]),s("h3",[t._v("Card: "+t._s(t.card))]),s("h3",[t._v("Created: "+t._s(t.createdAt))]),s("h3",[t._v("List: "+t._s(t.list))]),s("h3",[t._v("Text: "+t._s(t.text))]),s("h3",[t._v("User: "+t._s(t.user))]),s("hr")])]):t._e()},Ne=[],Be={name:"Activity",props:["activity"],data:function(){return{}},created:function(){},components:{},computed:{board:function(){return this.activity.board[0].title?this.activity.board[0].title:""},card:function(){return this.activity.card[0]?this.activity.card[0].title:""},createdAt:function(){return this.activity.createdAt?this.activity.createdAt:""},list:function(){return this.activity.list[0]?this.activity.list[0].title:""},text:function(){return this.activity.text?this.activity.text:""},user:function(){return this.activity.user[0]?this.activity.user[0].userName:""}},methods:{}},Me=Be,Te=(s("cf65"),Object(I["a"])(Me,Ae,Ne,!1,null,"6c75859a",null)),Ee=Te.exports,Oe={name:"Activities",props:["board"],data:function(){return{}},created:function(){this.$store.dispatch({type:"loadBoard",boardId:this.board._id}).then(function(t){})},components:{Activity:Ee},computed:{activities:function(){return this.$store.getters.getBoardActivities}},methods:{}},Pe=Oe,ze=(s("3c95"),Object(I["a"])(Pe,$e,De,!1,null,"2fa4450f",null)),Se=ze.exports,He={name:"board",data:function(){return{isAddListClick:!1,isChangeTitle:!1,showModal:this.$route.meta.showModal,showMenu:!1,showAtivities:!1,boardId:this.$route.params.boardId}},created:function(){de.init(this.boardId),this.$store.dispatch({type:"loadBoard",boardId:this.boardId})},components:{list:Ie,draggable:we.a,CardEdit:me,Activities:Se},computed:{board:function(){return this.$store.getters.getBoard?this.$store.getters.getBoard:this.$store.dispatch({type:"loadBoard",boardId:this.boardId}).then(function(t){return t})},lists:{get:function(){return this.$store.getters.getLists},set:function(t){this.$store.commit("setLists",{lists:t})}},dragOptions:function(){return{animation:200,group:"lists",disabled:!1,draggable:".board-list-li",ghostClass:"ghost"}}},methods:{fun:function(t){this.$store.dispatch({type:"loadBoard",boardId:t})},newList:function(){this.list=Ft.getEmptyList(),this.isAddListClick=!this.isAddListClick},closeAdd:function(){this.isAddListClick=!this.isAddListClick},addList:function(){var t=this;this.list.boardId=this.board._id,this.list.order=this.lists.length+1,this.$store.dispatch({type:"saveNewList",list:this.list}).then(function(e){var s=At.getEmptyActivity();s.text=" added a new list to ",s.userId=t.$store.getters.loggedInUser._id,s.boardId=t.board._id,s.listId=e._id,s.createdAt=jt()(nt()()).format("MMMM Do YYYY, h:mm:ss a"),t.$store.dispatch({type:"saveActivity",activity:s}),de.send(t.board._id)}),this.isAddListClick=!this.isAddListClick},choseTitle:function(){console.log("this.board",this.board),this.isChangeTitle=!this.isChangeTitle},changeTitle:function(){var t=this;console.log("this.board",this.board),this.$store.dispatch({type:"saveBoard",board:this.board}).then(function(){return de.send(t.board._id)}),this.isChangeTitle=!this.isChangeTitle,console.log("this.isChangeTitle after change",this.isChangeTitle)},moveList:function(t){},endMoveList:function(t){for(var e=this,s=0;s<this.lists.length;s++)this.lists[s].order=s;this.$store.dispatch({type:"updateLists",lists:this.lists}).then(function(){de.send(e.board._id)})},toggleActivity:function(){this.showAtivities=!this.showAtivities},toggleMenu:function(){this.showMenu=!this.showMenu}},watch:{"$route.meta":function(t){var e=t.showModal;this.showModal=e}}},Ue=He,Ye=(s("8c9a"),Object(I["a"])(Ue,at,it,!1,null,"50abc0fc",null)),qe=Ye.exports,We={name:"BoardPreview",props:["board"],data:function(){return{}},components:{Board:qe},created:function(){},computed:{}},Re=We,Ge=(s("0597"),Object(I["a"])(Re,et,st,!1,null,"3e8bc798",null)),Ve=Ge.exports,Fe={name:"TaskApp",data:function(){return{isNewBoard:!1,newBoardTitle:""}},created:function(){var t={_id:"guest"};this.$store.getters.isUserLoggedIn&&(t=this.$store.getters.loggedInUser,console.log(t)),this.$store.dispatch({type:"updateUser",userId:t._id})},computed:{boards:function(){return this.$store.getters.getboards}},methods:{createNewBoard:function(){var t=this,e=Ht.getEmptyBoard();if(e.title=this.newBoardTitle,e.title.length>0){var s=this.$store.getters.loggedInUser;s._id?e.members.push(s._id):e.members.push("guest"),this.$store.dispatch({type:"saveBoard",board:e}).then(function(e){console.log(e),t.$router.push("/board/".concat(e._id))}),this.newBoardTitle=""}},activateNewBoard:function(){this.isNewBoard||(this.isNewBoard=!0)}},components:{BoardPreview:Ve}},Je=Fe,Qe=(s("160f"),Object(I["a"])(Je,Z,tt,!1,null,"33896a51",null)),Ke=Qe.exports,Xe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.lists?s("section",{staticClass:"archive"},[s("header",{staticClass:"nav-board"},[s("b-button",{attrs:{variant:"link"},on:{click:t.backToBord}},[t._v("Back to Board")])],1),s("main",{staticClass:"main"},[t._l(t.lists,function(e){return s("div",{key:e._id,staticClass:"flex lists"},t._l(e.cards,function(e){return s("div",{key:e._id},[e.archived?s("card-preview",{attrs:{card:e}}):t._e()],1)}),0)}),t.showModal?s("card-edit",{ref:"card"},[s("router-view",{attrs:{name:"Card Edit"}})],1):t._e()],2)]):t._e()},Ze=[],ts={name:"BoardArchive",data:function(){return{showModal:this.$route.meta.showModal,boardId:null}},created:function(){this.boardId=this.$route.params.boardId,this.$store.dispatch({type:"loadBoard",boardId:this.boardId})},components:{CardPreview:ye,CardEdit:me},computed:{lists:{get:function(){return this.$store.getters.getLists},set:function(t){this.$store.commit("setLists",{lists:t})}}},methods:{backToBord:function(){this.$router.push("/board/".concat(this.boardId))}},watch:{"$route.meta":function(t){var e=t.showModal;this.showModal=e}}},es=ts,ss=(s("a517"),Object(I["a"])(es,Xe,Ze,!1,null,"616ef28e",null)),as=ss.exports;a["a"].use(T["a"]);var is=new T["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:H},{path:"/about",name:"about",component:function(){return s.e("about").then(s.bind(null,"f820"))}},{path:"/board",name:"Boards",component:Ke},{path:"/board/:boardId",name:"Board",component:qe,meta:{showModal:!1},children:[{path:"/card/edit/:cardId",name:"Card Edit",component:{page:qe,card:me},meta:{showModal:!0}}]},{path:"/board/:boardId/archive",name:"Board archive",component:as,meta:{showModal:!1},children:[{path:"/card/edit/:cardId",name:"Archive Card Edit",component:{page:as,card:me},meta:{showModal:!0}}]},{path:"/login",name:"login",component:G},{path:"/signup",name:"signup",component:X}]}),rs=s("9483");Object(rs["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});s("a0d8");a["a"].config.productionTip=!1,new a["a"]({router:is,store:se,render:function(t){return t(M)}}).$mount("#app")},6366:function(t,e,s){"use strict";var a=s("de4b"),i=s.n(a);i.a},"68d6":function(t,e,s){},8727:function(t,e,s){},"8c9a":function(t,e,s){"use strict";var a=s("c612"),i=s.n(a);i.a},a0d8:function(t,e,s){},a517:function(t,e,s){"use strict";var a=s("17dc"),i=s.n(a);i.a},a57f:function(t,e,s){},a596:function(t,e,s){},a680:function(t,e,s){},ac71:function(t,e,s){"use strict";var a=s("4318"),i=s.n(a);i.a},c612:function(t,e,s){},c9e1:function(t,e,s){"use strict";var a=s("e14b"),i=s.n(a);i.a},cf65:function(t,e,s){"use strict";var a=s("4afc"),i=s.n(a);i.a},dce6:function(t,e,s){"use strict";var a=s("8727"),i=s.n(a);i.a},de4b:function(t,e,s){},e14b:function(t,e,s){},ebe2:function(t,e,s){"use strict";var a=s("a57f"),i=s.n(a);i.a},fb92:function(t,e,s){}});
//# sourceMappingURL=app.8180c6c0.js.map